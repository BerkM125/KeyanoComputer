<html id="htmlid"><head>
<title>KeyAno</title>
<script src="audiosynth.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheet.css">
<meta name="viewport" content="width=device-width,user-scalable=no">
</head>

<body id="bodyid" style="width: 100%; height: 100%;" onkeydown="keyNote(event)">
<i id="settings" style="font-size:24px; color: white;" class="fa"></i>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content">
    <span class="close">×</span>
	<style>
		img:hover {
			width: 250px;
			box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
			text-align: center;
		}
	</style>
	<p>Choose a Keyano Wallpaper</p>
	<img style="width: 100px;" onclick="changeWallpaper('Themes/WoodenWallpaper1.jpg');" src="Themes/WoodenWallpaper1.jpg">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/WoodenWallpaper2.jpg');" src="Themes/WoodenWallpaper2.jpg">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/WoodenWallpaper3.jpg');" src="Themes/WoodenWallpaper3.jpg">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/WoodenWallpaper4.png');" src="Themes/WoodenWallpaper4.png">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/WoodenWallpaper5.jpg');" src="Themes/WoodenWallpaper5.jpg">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/NyanCatBackground1.jpg');" src="Themes/NyanCatBackground1.jpg">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/NyanCatBackground2.jpg');" src="Themes/NyanCatBackground2.jpg">
	<img style="width: 100px;" onclick="changeWallpaper('Themes/NyanCatBackground3.jpg');" src="Themes/NyanCatBackground3.jpg">
	<script>
		function changeWallpaper(string) {
			var body = document.body;
			if(string != 'Themes/WoodenWallpaper5.jpg') {
				body.style.Height = "100%";
			}
			body.style.backgroundImage = "url(" + string + ")";
		}
	</script>
  </div>

</div>
<script>
var modal = document.getElementById("myModal");
var btn = document.getElementById("settings");
var span = document.getElementsByClassName("close")[0];
btn.onclick = function() {
  modal.style.display = "block";
}
span.onclick = function() {
  modal.style.display = "none";
}
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}
</script>
<h1>
	Keyano
</h1>
<ul class="set">
  <!--Section 1!-->
  <li class="white b" onclick="playNote('F', octave, duration)"><p class="keytext" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">F6</p></li>
  <li class="black as" onclick="playNote('F#', octave, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">F#</p></li>
  <li class="white a" onclick="playNote('G', octave, duration)"><p class="keytext" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">G6</p></li>
  <li class="black gs" onclick="playNote('G#', octave, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">G#</p></li>
  <li class="white g" onclick="playNote('A', octave, duration)"><p class="keytext" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">A6</p></li>
  <li class="black fs" onclick="playNote('A#', octave, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">A#</p></li>
  <li class="white f" onclick="playNote('B', octave, duration)"><p class="keytext" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">B6</p></li>
  <li class="white e" onclick="playNote('C', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">C7</p></li>
  <li class="black ds" onclick="playNote('C#', octave+1, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">C#</p></li>
  <li class="white d" onclick="playNote('D', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">D7</p></li>
  <li class="black cs" onclick="playNote('D#', octave+1, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">D#</p></li>
  <li class="white c" onclick="playNote('E', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">E7</p></li>
  <!--Section 2!-->
  <li class="white b" onclick="playNote('F', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">F7</p></li>
  <li class="black as" onclick="playNote('F#', octave+1, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">F#</p></li>
  <li class="white a" onclick="playNote('G', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">G7</p></li>
  <li class="black gs" onclick="playNote('G#', octave+1, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">G#</p></li>
  <li class="white g" onclick="playNote('A', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">A7</p></li>
  <li class="black fs" onclick="playNote('A#', octave+1, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">A#</p></li>
  <li class="white f" onclick="playNote('B', octave+1, duration)"><p class="keytext2" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">B7</p></li>
  <li class="white e" onclick="playNote('C', octave+2, duration)"><p class="keytext3" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">C8</p></li>
  <li class="black ds" onclick="playNote('C#', octave+2, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">C#</p></li>
  <li class="white d" onclick="playNote('D', octave+2, duration)"><p class="keytext3" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">D8</p></li>
  <li class="black cs" onclick="playNote('D#', octave+2, duration)"><p style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">D#</p></li>
  <li class="white c" onclick="playNote('E', octave+2, duration)"><p class="keytext3" style="align-content: center; position: absolute; font-family: Calibri; bottom: 10px;">E8</p></li>
</ul>
<div>
	<div style="margin-top: 20px;">
		<label style="margin-top: 10px; margin-left: 16%; font-family: Garamond; font-size: 22px; color: white;">Octave Adjustment</label>
		<label style="margin-top: 10px; margin-left: 18%; font-family: Garamond; font-size: 22px; color: white;">Volume Adjustment</label>
		<label style="margin-top: 10px; margin-left: 17%; font-family: Garamond; font-size: 22px; color: white;">Note Duration</label>
	</div>
	<div>
		<form>
			<input class="slider" id="octavechanger" type="range" value="3" style="margin-left: 11%;" min="1" max="8" onchange="changeOctave()">
			<input class="slider" id="volumechanger" type="range" value="3" style="margin-left: 9.5%;" min="0" max="1" step="0.01" onchange="changeVolume()">
			<input class="slider" id="durationchanger" type="range" value="3" style="margin-left: 7%;" min="1" max="5" onchange="changeDuration()">
		</form>
	</div>
</div>
<script>
	Synth instanceof AudioSynth; 

	var testInstance = new AudioSynth;
	testInstance instanceof AudioSynth; 

	testInstance === Synth; 
	
	var piano = Synth.createInstrument('piano');
	var organ = Synth.createInstrument('organ');
	var acoustic = Synth.createInstrument('acoustic');
	var edm = Synth.createInstrument('edm');
	var intrumentid = 0;
	var octave = document.getElementById("octavechanger").value;
	var duration = document.getElementById("durationchanger").value;
	var volume = document.getElementById("volumechanger").value;		
	var keyset1 = new Array(4);
		var keyset2 = new Array(7);				
		var keyset3 = new Array(3);
	String.prototype.replaceAt=function(index, replacement) {
    return this.substr(0, index) + replacement+ this.substr(index + replacement.length);
  }
	function changeOctave() {
		var octavechanger = document.getElementById("octavechanger");
		octave = octavechanger.value-1+1;
		for(var i = 0; i < 7; i++) {
			keyset2[i] = document.getElementsByClassName("keytext2")[i].innerHTML;
			if(i < 4)
				keyset1[i] = document.getElementsByClassName("keytext")[i].innerHTML;
			if(i < 3)
				keyset3[i] = document.getElementsByClassName("keytext3")[i].innerHTML;
		}
		for(var i = 0; i < 7; i++) {
			keyset2[i] = keyset2[i].replaceAt(1, octave+1);
			keyset2[i] = keyset2[i].slice(0,2);
			document.getElementsByClassName("keytext2")[i].innerHTML = keyset2[i];
			if(i < 4) {
				keyset1[i] = keyset1[i].replaceAt(1, octave);
				keyset1[i] = keyset1[i].slice(0,2);
				document.getElementsByClassName("keytext")[i].innerHTML = keyset1[i];
			}
			if(i < 3) {
				keyset3[i] = keyset3[i].replaceAt(1, octave+2);
				keyset3[i] = keyset3[i].slice(0,2);
				document.getElementsByClassName("keytext3")[i].innerHTML = keyset3[i];
			}
		}
	}
	function changeDuration() {
		var durationchanger = document.getElementById("durationchanger");
		duration = durationchanger.value;
	}
	function changeVolume() {
		var volumechanger = document.getElementById("volumechanger");
		volume = volumechanger.value;
		Synth.setVolume(volume);
	}
	function keyNote (event) {
		var note = event.key.toUpperCase();
		var oct = octave;
		var dur = duration;
		switch(note) {
			case 'Q':
				note = 'F';
				break;
			case '2':
				note = 'F#';
				break;
			case 'W':
				note = 'G';
				break;
			case '3':
				note = 'G#';
				break;
			case 'E':
				note = 'A';
				break;
			case '4':
				note = 'A#';
				break;
			case 'R':
				note = 'B';
				break;
			case '5':
				note = 'B#';
				break;
			case 'T':
				note = 'C';
				oct += 1;
				break;
			case '6':
				note = 'C#';
				oct += 1;
				break;
			case 'Y':
				note = 'D';
				oct += 1;
				break;
			case '7':
				note = 'D#';
				oct += 1;
				break;
			case 'U':
				note = 'E';
				oct += 1;
				break;
			case '8':
				note = 'E#';
				oct += 1;
				break;
			case 'I':
				note = 'F';
				oct += 1;
				break;
			case '9':
				note = 'F#';
				oct += 1;
				break;
			case 'O':
				note = 'G';
				oct += 1;
				break;
			case '0':
				note = 'G#';
				oct += 1;
				break;
			case 'P':
				note = 'A';
				oct += 1;
				break;
			case '-':
				note = 'A#';
				oct += 1;
				break;
			case '[':
				note = 'B';
				oct += 1;
				break;
			case '=':
				note = 'B#';
				oct += 1;
				break;
			case ']':
				note = 'C';
				oct += 2;
				break;
			case '\\':
				note = 'C#';
				oct += 2;
				break;
			case 'A':
				note = 'D';
				oct += 2;
				break;	
			case 'S':
				note = 'E';
				oct += 2;
				break;
			case 'D':
				note = 'F';
				oct += 2;
				break;
			case 'F':
				note = 'G';
				oct += 2;
				break;
			case 'G':
				note = 'A';
				oct += 2;
				break;
			case 'H':
				note = 'B';
				oct += 2;
				break;
			case 'J':
				note = 'C';
				oct += 3;
				break;
		}
		playNote(note, oct, dur);
	}
	function playScale () {
		var notes = new Array(8);
		notes[0] = 'C';
		notes[1] = 'D';
		notes[2] = 'E';
		notes[3] = 'F';
		notes[4] = 'G';
		notes[5] = 'A';
		notes[6] = 'B';
		notes[7] = 'C';
		for(var i = 0; i < 8; i++) {
			if(i != 7)
				playNote(notes[i], 4, 2);
			else
				playNote(notes[i], 5, 2);
		}
	}
	function playNote (note, octave, duration) {
		Synth.play(intrumentid, note, octave, duration);
	}
	changeOctave();
</script>


</body></html>
